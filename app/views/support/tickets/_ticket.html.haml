.ticket

  %h1 ({{selectedTicket.reference}}) {{selectedTicket.title}}
  %h3 Description
  %p{'ng-bind-html' => "selectedTicket.description"}

  %h3 Comments
  %hr

  %div.btn-group#comment-button
    %button.btn.btn-default{:'ng-click' => "commentDialogShow()"}
      %i.fa.fa-comment
      Add Comment?

  %div.comments
    %div{:'ng-show' => "hasComments(selectedTicket)"}
      %ul.media-list
        %li.media{:'ng-repeat' => ("comment in selectedTicket.comments")}
          %a.pull-left
            %img.img-circle{'gravatar-src-once' => "comment.email"}
          %div.media-body
            %h4.media-heading
              {{comment.email}}
            %p
              {{comment.time | momentDateTime}}
            %p{'ng-bind-html' => "comment.content"}
    %div{:'ng-show' => "!hasComments(selectedTicket)"}
      There are no comments yet.

.modal.fade{'id' => 'newComment', 'tabindex' => "-1", 'role' => "dialog", 'aria-labelledby' => 'newComment', 'aria-hidden' => "true"}
  .modal-dialog
    .modal-content
      .modal-header
        Comment
      .modal-body
        .input-group
          %span.input-group-addon
            %i.fa.fa-comment
          = text_area_tag :comment, nil, placeholder: 'Comment', class: "form-control", autofocus: true
      .modal-footer
        %button.btn{:'ng-click' => 'commentDialogCancel()'}
          Cancel
        %button.btn.btn-primary{:'ng-click' => 'commentDialogSubmit(selectedTicket)'}
          Submit